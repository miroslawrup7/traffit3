const cityLoc=document.querySelector(".city"),cityListBtnLoc=document.querySelector(".city .arrow-down"),cityListLoc=document.querySelector(".city .list"),distanceLoc=document.querySelector(".distance"),distanceListBtnLoc=document.querySelector(".distance .arrow-down"),distanceListLoc=document.querySelector(".distance .list"),sectorLoc=document.querySelector(".sector"),sectorListBtnLoc=document.querySelector(".sector .arrow-down"),sectorListLoc=document.querySelector(".sector .list"),employmentFormLoc=document.querySelector(".employment-form"),employmentFormListBtnLoc=document.querySelector(".employment-form .arrow-down"),employmentFormListLoc=document.querySelector(".employment-form .list"),workingHoursLoc=document.querySelector(".working-hours"),workingHoursListBtnLoc=document.querySelector(".working-hours .arrow-down"),workingHoursListLoc=document.querySelector(".working-hours .list"),languageLoc=document.querySelector(".language"),languageListBtnLoc=document.querySelector(".language .arrow-down"),languageListLoc=document.querySelector(".language .list"),awardedResultsLoc=document.querySelector(".awarded"),recordsOnPageLoc=document.querySelector(".records-on-page"),pagesSwitchLoc=document.querySelector(".pages"),brancheWrapperLoc=document.querySelector(".sector"),branchesLoc=document.querySelector(".sector ul"),jobFormLoc=document.querySelector(".employment-form ul"),jobTypeLoc=document.querySelector(".working-hours ul"),langLoc=document.querySelector(".language ul"),citiesLoc=document.querySelector(".city ul"),resultsLoc=document.querySelector(".results"),remoteLoc=document.querySelector("#remote"),relocationLoc=document.querySelector("#relocation"),searchInputLoc=document.querySelector(".job input"),distanceInputsLoc=document.querySelectorAll(".distance input"),distanceTitleLoc=document.querySelector(".distance .list-title"),searchBtn=document.querySelector(".search-btn"),advancedSearchBtn=document.querySelector(".advanced-search-btn .arrow-down"),advancedContainer=document.querySelector(".advanced-container");cityLoc.addEventListener("click",(()=>{cityListLoc.classList.toggle("expand"),cityListBtnLoc.classList.toggle("rotate180")})),distanceLoc.addEventListener("click",(()=>{distanceListLoc.classList.toggle("expand"),distanceListBtnLoc.classList.toggle("rotate180")})),sectorLoc.addEventListener("click",(()=>{sectorListLoc.classList.toggle("expand"),sectorListBtnLoc.classList.toggle("rotate180")})),employmentFormLoc.addEventListener("click",(()=>{employmentFormListLoc.classList.toggle("expand"),employmentFormListBtnLoc.classList.toggle("rotate180")})),workingHoursLoc.addEventListener("click",(()=>{workingHoursListLoc.classList.toggle("expand"),workingHoursListBtnLoc.classList.toggle("rotate180")})),languageLoc.addEventListener("click",(()=>{languageListLoc.classList.toggle("expand"),languageListBtnLoc.classList.toggle("rotate180")})),cityLoc.addEventListener("mouseleave",(()=>{cityListLoc.classList.remove("expand"),cityListBtnLoc.classList.remove("rotate180")})),distanceLoc.addEventListener("mouseleave",(()=>{distanceListLoc.classList.remove("expand"),distanceListBtnLoc.classList.remove("rotate180")})),sectorLoc.addEventListener("mouseleave",(()=>{sectorListLoc.classList.remove("expand"),sectorListBtnLoc.classList.remove("rotate180")})),employmentFormLoc.addEventListener("mouseleave",(()=>{employmentFormListLoc.classList.remove("expand"),employmentFormListBtnLoc.classList.remove("rotate180")})),workingHoursLoc.addEventListener("mouseleave",(()=>{workingHoursListLoc.classList.remove("expand"),workingHoursListBtnLoc.classList.remove("rotate180")})),languageLoc.addEventListener("mouseleave",(()=>{languageListLoc.classList.remove("expand"),languageListBtnLoc.classList.remove("rotate180")}));let filteredRecordsArray_11,filterConfigData={},apiPage=1,rawAPIArray=[],allRecordsArray=[],recordsNumber=0,recordsOnPage=20,filtersON=!1,filterBranchesList=[],filterJobFormList=[],filterJobTypeList=[],filterLangList=[],filterCountriesList={},filterListMaxHeight=0;distanceInputsLoc.forEach((e=>{e.addEventListener("change",(()=>{distanceTitleLoc.innerText=`+${Number(e.value)} km`,distanceTitleLoc.dataset.distance=Number(e.value)}))})),recordsOnPageLoc.value=recordsOnPage;const createRecordBoxes=(e,t,r)=>{for(resultsLoc.replaceChildren(),i=t;i<r;i++)if(e[i]){let t="",r="";filterConfigData.recruitmentType_colorOnly.length?(-1!==filterConfigData.recruitmentType_colorOnly.indexOf("PT")&&"PT"===e[i].recruitmentType&&(t="pt-border",r="pt-text"),-1!==filterConfigData.recruitmentType_colorOnly.indexOf("RS")&&"RS"===e[i].recruitmentType&&(t="rs-border",r="rs-text"),-1!==filterConfigData.recruitmentType_colorOnly.indexOf("WEW")&&"WEW"===e[i].recruitmentType&&(t="wew-border",r="wew-text")):("PT"===e[i].recruitmentType&&(t="pt-border",r="pt-text"),"RS"===e[i].recruitmentType&&(t="rs-border",r="rs-text"),"WEW"===e[i].recruitmentType&&(t="wew-border",r="wew-text"));let n="";e[i].jobForm&&e[i].jobForm.forEach((function(e){n=n+"<p>"+e+"</p>"})),resultsLoc.insertAdjacentHTML("beforeend",`<a href="${e[i].url}" target="_blank"><div class="result ${t}">\n            <div class="top">\n              \n                    <div class="lang"><p>${e[i].lang}</p></div>\n                    <div class="branche-name">\n                        <div class="branche">${e[i].branche?e[i].branche:""}</div>\n                        <div class="name ${r}">${e[i].name}</div>\n                   \n                </div>\n              \n            </div>\n\n            <div class="bottom">\n                <div class="city-container">\n                    <div class="city"><img src="./img/location_dot.svg">${e[i].city}</div>\n                    </div>\n                    <div class="details-container">\n                    ${e[i].jobType?"<div class='jobtype'>"+e[i].jobType+"</div>":""}\n                    ${e[i].visibleRate&&e[i].salaryFrom&&e[i].salaryTo?"<div class='salary'>"+e[i].salaryFrom+" - "+e[i].salaryTo+"</div>":""}\n                    ${e[i].remote?"<div class='remote'>zdalna</div>":""}\n                    ${e[i].relocation?"<div class='relocation'>relocation</div>":""}\n                    <div class="employmentform">${n}</div>\n                    </div>\n                </div>\n                   \n                </div>\n          \n\n        </div></a>`)}},createFilteredRecordsArray=()=>{const e=branchesLoc.querySelectorAll("li input"),t=jobFormLoc.querySelectorAll("li input"),i=jobTypeLoc.querySelectorAll("li input"),r=langLoc.querySelectorAll("li input"),n=citiesLoc.querySelectorAll("li input");let o=allRecordsArray,a=[];a=filterConfigData.branche_filter.length?filterConfigData.branche_filter:Array.from(e).filter((function(e){return e.checked})).map((function(e){return e.value}));let c=[];0!==a.length?o.forEach(((e,t)=>{let i=!1;a.forEach((t=>{e.branche===t&&(i=!0)})),i&&c.push(e)})):c=o;let s=[];s=Array.from(t).filter((function(e){return e.checked})).map((function(e){return e.value}));let l=[];0!==s.length?c.forEach(((e,t)=>{if(e.jobForm){let t=!1;s.forEach((i=>{-1!==e.jobForm.indexOf(i)&&(t=!0)})),t&&l.push(e)}})):l=c;let d=Array.from(i).filter((function(e){return e.checked})).map((function(e){return e.value})),g=[];0!==d.length?l.forEach(((e,t)=>{let i=!1;d.forEach((t=>{e.jobType===t&&(i=!0)})),i&&g.push(e)})):g=l;let u=[];u=filterConfigData.language_filter.length?filterConfigData.language_filter:Array.from(r).filter((function(e){return e.checked})).map((function(e){return e.value}));let f=[];0!==u.length?g.forEach(((e,t)=>{let i=!1;u.forEach((t=>{e.lang===t&&(i=!0)})),i&&f.push(e)})):f=g;let L=f,p=[];p=filterConfigData.location_city_filter.length?filterConfigData.location_city_filter:Array.from(n).filter((function(e){if(e.value)return e.checked})).map((function(e){if(e.value)return e.value}));let m=[];if(p.length){let e,t,i,r,n,o,a=parseInt(distanceTitleLoc.dataset.distance);p.forEach((c=>{L.forEach(((s,l)=>{c===s.city&&(e=s.lati,t=s.longi,i=e-.009044*a,r=e+.009044*a,n=t-.0089831*a/Math.cos(e*Math.PI/180),o=t+.0089831*a/Math.cos(e*Math.PI/180))})),L.forEach(((e,t)=>{e.lati<=r&&e.lati>=i&&e.longi<=o&&e.longi>=n&&m.push(e)}))}))}else m=L;let h=[];remoteLoc.checked||filterConfigData.remote_filter?m.forEach(((e,t)=>{let i=!1;e.remote&&(i=!0),i&&h.push(e)})):h=m;let v=[];relocationLoc.checked?h.forEach(((e,t)=>{let i=!1;e.relocation&&(i=!0),i&&v.push(e)})):v=h;let y=[],b=searchInputLoc.value;b?v.forEach(((e,t)=>{let i,r=!1;e.description.forEach((function(e){e.value&&"geolocation"!==e.field_id&&(i=e.value.toLowerCase().search(b.toLowerCase()),-1!==i&&(r=!0))})),i=e.name.toLowerCase().search(b.toLowerCase()),-1!==i&&(r=!0),r&&y.push(e)})):y=v,filteredRecordsArray_11=[];let w=[];filterConfigData.recruitmentType_filter.length&&(w=filterConfigData.recruitmentType_filter),0!==w.length?y.forEach(((e,t)=>{let i=!1;w.forEach((t=>{e.recruitmentType===t&&(i=!0)})),i&&filteredRecordsArray_11.push(e)})):filteredRecordsArray_11=y,recordsNumber=filteredRecordsArray_11.length,createRecordBoxes(filteredRecordsArray_11,0,recordsOnPage),setPages(recordsNumber),filtersON=!0},pagesContainerStart=()=>{pagesContainer.classList.add("active")},dropDownBtnStart=()=>{dropDownLoc.addEventListener("click",showHideFilters),dropDownLoc.classList.add("active")},createFilterLists=e=>{if(e.branche_visible||brancheWrapperLoc.classList.add("unactive"),filterBranchesList.length>0&&(filterBranchesList.sort((function(e,t){return e.localeCompare(t)})),rowHeight=21*filterBranchesList.length+3,filterListMaxHeight=rowHeight,filterBranchesList.forEach((function(e){branchesLoc.insertAdjacentHTML("beforeend",`<li>\n                <div class="checkbox-container-small">\n                    <label class="checkbox">\n                        <input type="checkbox" id="${e}" name="${e}" value="${e}">\n                        <span class="checkmark"></span>\n                    </label>\n                    <label class="label-text" for="${e}">${e}</label>\n                </div>\n            </li>`)}))),filterJobFormList.length>0&&(filterJobFormList.sort((function(e,t){return e.localeCompare(t)})),rowHeight=21*filterJobFormList.length+3,filterJobFormList.forEach((function(e){jobFormLoc.insertAdjacentHTML("beforeend",`<li>\n                <div class="checkbox-container-small">\n                    <label class="checkbox">\n                        <input type="checkbox" id="${e}" name="${e}" value="${e}">\n                        <span class="checkmark"></span>\n                    </label>\n                    <label class="label-text" for="${e}">${e}</label>\n                </div>\n            </li>`)}))),filterJobTypeList.length>0&&(filterJobTypeList.sort((function(e,t){return e.localeCompare(t)})),rowHeight=21*filterJobTypeList.length+3,filterJobTypeList.forEach((function(e){jobTypeLoc.insertAdjacentHTML("beforeend",`<li>\n                <div class="checkbox-container-small">\n                    <label class="checkbox">\n                        <input type="checkbox" id="${e}" name="${e}" value="${e}">\n                        <span class="checkmark"></span>\n                    </label>\n                    <label class="label-text" for="${e}">${e}</label>\n                </div>\n            </li>`)}))),filterLangList.length>0&&(filterLangList.sort((function(e,t){return e.localeCompare(t)})),rowHeight=21*filterLangList.length+3,filterLangList.forEach((function(e){langLoc.insertAdjacentHTML("beforeend",`<li>\n                <div class="checkbox-container-small">\n                    <label class="checkbox">\n                        <input type="checkbox" id="${e}" name="${e}" value="${e}">\n                        <span class="checkmark"></span>\n                    </label>\n                    <label class="label-text" for="${e}">${e}</label>\n                </div>\n            </li>`)}))),Object.keys(filterCountriesList).length>0){function t(e,t){return e.city.localeCompare(t.city)}for(let n in filterCountriesList)filterCountriesList[n].sort(t);filterCountriesList=Object.keys(filterCountriesList).sort().reduce(((e,t)=>(e[t]=filterCountriesList[t],e)),{});let i=[];for(let o in filterCountriesList)i=i.concat(filterCountriesList[o]);let r=[];i.forEach((e=>{r.push(e.city)})),r.sort((function(e,t){return e.localeCompare(t)})),r.forEach((function(e){citiesLoc.insertAdjacentHTML("beforeend",`<li>\n                <div class="checkbox-container-small">\n                    <label class="checkbox">\n                        <input type="checkbox" id="${e}" name="${e}" value="${e}">\n                        <span class="checkmark"></span>\n                    </label>\n                    <label class="label-text" for="${e}">${e}</label>\n                </div>\n            </li>`)}))}},changePage=e=>{pageButtonsLoc.forEach((e=>{e.classList.remove("active")})),e.classList.add("active");let t=recordsOnPage*parseInt(e.innerText)-recordsOnPage,i=recordsOnPage*parseInt(e.innerText);createRecordBoxes(filtersON?filteredRecordsArray_11:allRecordsArray,t,i),globActivePageNo=parseInt(e.innerText)};let globActivePageNo;const movePrevPagesBtns=()=>{let e,t=parseInt(Array.from(document.querySelectorAll(".page")).shift().innerText),i=parseInt(Array.from(document.querySelectorAll(".page")).pop().innerText);if(e=document.querySelector(".page.active"),e&&(e=parseInt(e.innerText)),t>1){for(pagesSwitchLoc.replaceChildren(),n=t-1;n<=i-1;n++)e||(e=globActivePageNo),e&&n===e?pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page active">${n}</div>`):pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page">${n}</div>`);if(i<pagesQuantityCalc+1){pagesSwitchLoc.insertAdjacentHTML("beforeend",'<div class="next active"><img src="./img/chevron-right.svg" alt="" /></div>'),document.querySelector(".next").addEventListener("click",(()=>{moveNextPagesBtns()}))}else pagesSwitchLoc.insertAdjacentHTML("beforeend",'<div class="next"><img src="" alt="" /></div>');if(t>2){pagesSwitchLoc.insertAdjacentHTML("afterbegin",'<div class="prev active"><img src="./img/chevron-left.svg" alt="" /></div>'),document.querySelector(".prev").addEventListener("click",(()=>{movePrevPagesBtns()}))}else pagesSwitchLoc.insertAdjacentHTML("afterbegin",'<div class="prev"><img src="" alt="" /></div>');pageButtonsLoc=document.querySelectorAll(".page"),pageButtonsLoc.forEach((e=>{e.addEventListener("click",(e=>{changePage(e.target)}))}))}},moveNextPagesBtns=()=>{let e,t=parseInt(Array.from(document.querySelectorAll(".page")).shift().innerText),i=parseInt(Array.from(document.querySelectorAll(".page")).pop().innerText);if(e=document.querySelector(".page.active"),e&&(e=parseInt(e.innerText),globActivePageNo=e),i<pagesQuantityCalc){for(pagesSwitchLoc.replaceChildren(),n=t+1;n<=i+1;n++)e||(e=globActivePageNo),e&&n===e?pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page active">${n}</div>`):pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page">${n}</div>`);if(i<pagesQuantityCalc-1){pagesSwitchLoc.insertAdjacentHTML("beforeend",'<div class="next active"><img src="./img/chevron-right.svg" alt="" /></div>'),document.querySelector(".next").addEventListener("click",(()=>{moveNextPagesBtns()}))}else pagesSwitchLoc.insertAdjacentHTML("beforeend",'<div class="next"><img src="" alt="" /></div>');if(t>0){pagesSwitchLoc.insertAdjacentHTML("afterbegin",'<div class="prev active"><img src="./img/chevron-left.svg" alt="" /></div>'),document.querySelector(".prev").addEventListener("click",(()=>{movePrevPagesBtns()}))}else pagesSwitchLoc.insertAdjacentHTML("afterbegin",'<div class="prev"><img src="" alt="" /></div>');pageButtonsLoc=document.querySelectorAll(".page"),pageButtonsLoc.forEach((e=>{e.addEventListener("click",(e=>{changePage(e.target)}))}))}};function getWidth(){return Math.max(document.body.scrollWidth,document.documentElement.scrollWidth,document.body.offsetWidth,document.documentElement.offsetWidth,document.documentElement.clientWidth)}function getHeight(){return Math.max(document.body.scrollHeight,document.documentElement.scrollHeight,document.body.offsetHeight,document.documentElement.offsetHeight,document.documentElement.clientHeight)}let pagesQuantityCalc;const setPages=e=>{if(pagesQuantityCalc=Math.ceil(e/recordsOnPage),pagesQuantityCalc>maxPageBtns){for(pagesSwitchLoc.replaceChildren(),n=1;n<=maxPageBtns;n++)1===n?pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page active">${n}</div>`):pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page">${n}</div>`);pagesSwitchLoc.insertAdjacentHTML("beforeend",'<div class="next active"><img src="./img/chevron-right.svg" alt="" /></div>'),document.querySelector(".next").addEventListener("click",(()=>{moveNextPagesBtns()}))}else{for(pagesSwitchLoc.replaceChildren(),n=1;n<=pagesQuantityCalc;n++)1===n?pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page active">${n}</div>`):pagesSwitchLoc.insertAdjacentHTML("beforeend",`<div class="page">${n}</div>`);pagesSwitchLoc.insertAdjacentHTML("beforeend",'<div class="next"><img src="" alt="" /></div>')}pagesSwitchLoc.insertAdjacentHTML("afterbegin",'<div class="prev"><img src="" alt="" /></div>'),pageButtonsLoc=document.querySelectorAll(".page"),pageButtonsLoc.forEach((e=>{e.addEventListener("click",(e=>{changePage(e.target)}))}))};let maxPageBtns;const setPagesBtnQuantity=()=>{getWidth()<500&&(maxPageBtns=3),getWidth()>=500&&getWidth()<650&&(maxPageBtns=3),getWidth()>=650&&getWidth()<750&&(maxPageBtns=4),getWidth()>=750&&getWidth()<950&&(maxPageBtns=7),getWidth()>=950&&getWidth()<1200&&(maxPageBtns=12),getWidth()>=1200&&(maxPageBtns=15),setPages(recordsNumber)};window.addEventListener("resize",(()=>{setPagesBtnQuantity()})),setPagesBtnQuantity();const createAwardedRecordBoxes=(e,t)=>{awardedResultsLoc.replaceChildren();let r=e.filter((e=>e.awarded));if(r.length>0){for(t.remote_filter&&(r=r.filter((e=>e.remote))),t.language_filter.length>0&&filterAwarded(t.language_filter,r,"lang"),t.branche_filter.length>0&&filterAwarded(t.branche_filter,r,"branche"),t.location_country_filter.length>0&&filterAwarded(t.location_country_filter,r,"country"),t.location_city_filter.length>0&&filterAwarded(t.location_city_filter,r,"city"),t.recruitmentType_filter.length>0&&filterAwarded(t.recruitmentType_filter,r,"recruitmentType"),i=firstRecordNumber;i<10;i++)if(r[i]){let e="",t="";"PT"===r[i].recruitmentType&&(e="pt-border",t="pt-text"),"RS"===r[i].recruitmentType&&(e="rs-border",t="rs-text"),"WEW"===r[i].recruitmentType&&(e="wew-border",t="wew-text");let n="";r[i].jobForm&&r[i].jobForm.forEach((function(e){n=n+"<p>"+e+"</p>"})),awardedResultsLoc.insertAdjacentHTML("beforeend",`<a href="${r[i].url}" target="_blank"><div class="result ${e}">\n                <div class="top">\n                \n                        <div class="lang">\n                            <p>${r[i].lang}</p>\n                        </div>\n                        <div class="branche-name">\n                            <div class="branche">${r[i].branche?r[i].branche:""}</div>\n                            <div class="name ${t}">${r[i].name}</div>\n                        </div>\n                    \n                </div>\n\n                <div class="bottom">\n                    <div class="city-container">\n                        <div class="city"><img src="./img/location_dot.svg">${r[i].city}</div></div>\n                        <div class="details-container">\n                        ${r[i].remote?"<div class='remote'>zdalna</div>":""}\n                        ${r[i].relocation?"<div class='relocation'>relocation</div>":""}\n                        ${r[i].jobType?"<div class='jobtype'>"+r[i].jobType+"</div>":""}\n                        ${r[i].visibleRate&&r[i].salaryFrom&&r[i].salaryTo?"<div class='salary'>"+r[i].salaryFrom+" - "+r[i].salaryTo+"</div>":""}\n                        <div class="employmentform">${n}</div>\n                        </div>\n                    \n                </div>\n\n                <div class="ribbon-wrap">\n                        <div class="ribbon">\n                                <img src="./img/star.svg" alt="">\n                                <img src="./img/star.svg" alt="">\n                                <img src="./img/star.svg" alt="">\n                            </div>\n                        </div>\n                </div>\n\n                \n\n            </div></a>`)}}else awardedResultsLoc.style.margin="0"},summariseDownload=e=>{recNumLoc.innerText=`Znaleziono ${e} ogłoszeń`,e?noResultsLoc.classList.remove("active"):noResultsLoc.classList.add("active")},createDataForFilters=(e,t,i,r,n,o,a,c,s,l,d)=>{-1===filterBranchesList.indexOf(e)&&void 0!==e&&(filterConfigData.branche_filter.length?-1!==filterConfigData.branche_filter.indexOf(e)&&filterBranchesList.push(e):filterBranchesList.push(e)),t&&t.forEach((function(e){-1===filterJobFormList.indexOf(e)&&filterJobFormList.push(e)})),-1===filterJobTypeList.indexOf(i)&&void 0!==i&&filterJobTypeList.push(i),-1===filterLangList.indexOf(r)&&(filterConfigData.language_filter.length?-1!==filterConfigData.language_filter.indexOf(r)&&filterLangList.push(r):filterLangList.push(r)),filterConfigData.location_country_filter.length?-1!==filterConfigData.location_country_filter.indexOf(c)&&(filterCountriesList[c]?-1===filterCountriesList[c].findIndex((e=>e.city===s))&&(filterConfigData.location_city_filter.length?-1!==filterConfigData.location_city_filter.indexOf(s)&&filterCountriesList[c].push({city:s,lati:l,longi:d}):filterCountriesList[c].push({city:s,lati:l,longi:d})):(filterCountriesList[c]=[],filterConfigData.location_city_filter.length?-1!==filterConfigData.location_city_filter.indexOf(s)&&filterCountriesList[c].push({city:s,lati:l,longi:d}):filterCountriesList[c].push({city:s,lati:l,longi:d}))):filterCountriesList[c]?-1===filterCountriesList[c].findIndex((e=>e.city===s))&&filterCountriesList[c].push({city:s,lati:l,longi:d}):(filterCountriesList[c]=[],filterCountriesList[c].push({city:s,lati:l,longi:d}))},reworkData=e=>{e.forEach((e=>{var t,i,r,n,o,a,c,s;e.options.job_location&&(parsedJobLocation=JSON.parse(e.options.job_location)),allRecordsArray.push({url:e.url,name:e.advert.name,branche:e.options.branches,lang:e.advert.language,jobType:e.options.job_type,visibleRate:parseInt(e.options._Widoczna_stawka),salaryFrom:parseInt(e.options._spodziewane_wynagrodzenie_od),salaryTo:parseInt(e.options._spodziewane_wynagrodzenie_do),remote:e.options.remote,relocation:e.options._relokacja,recruitmentType:e.options._rekrutacja_rodzaj,jobForm:e.options._forma_zatrudnienia,country:parsedJobLocation.country,city:parsedJobLocation.locality,lati:parseFloat(parsedJobLocation.latitude),longi:parseFloat(parsedJobLocation.longitude),description:e.advert.values,awarded:e.awarded}),t=e.options.branches,i=e.options._forma_zatrudnienia,r=e.options.job_type,n=e.advert.language,parseInt(e.options._Widoczna_stawka),parseInt(e.options._spodziewane_wynagrodzenie_od),parseInt(e.options._spodziewane_wynagrodzenie_do),o=parsedJobLocation.country,a=parsedJobLocation.locality,c=parseFloat(parsedJobLocation.latitude),s=parseFloat(parsedJobLocation.longitude),-1===filterBranchesList.indexOf(t)&&void 0!==t&&(filterConfigData.branche_filter.length?-1!==filterConfigData.branche_filter.indexOf(t)&&filterBranchesList.push(t):filterBranchesList.push(t)),i&&i.forEach((function(e){-1===filterJobFormList.indexOf(e)&&filterJobFormList.push(e)})),-1===filterJobTypeList.indexOf(r)&&void 0!==r&&filterJobTypeList.push(r),-1===filterLangList.indexOf(n)&&(filterConfigData.language_filter.length?-1!==filterConfigData.language_filter.indexOf(n)&&filterLangList.push(n):filterLangList.push(n)),filterConfigData.location_country_filter.length?-1!==filterConfigData.location_country_filter.indexOf(o)&&(filterCountriesList[o]?-1===filterCountriesList[o].findIndex((e=>e.city===a))&&(filterConfigData.location_city_filter.length?-1!==filterConfigData.location_city_filter.indexOf(a)&&filterCountriesList[o].push({city:a,lati:c,longi:s}):filterCountriesList[o].push({city:a,lati:c,longi:s})):(filterCountriesList[o]=[],filterConfigData.location_city_filter.length?-1!==filterConfigData.location_city_filter.indexOf(a)&&filterCountriesList[o].push({city:a,lati:c,longi:s}):filterCountriesList[o].push({city:a,lati:c,longi:s}))):filterCountriesList[o]?-1===filterCountriesList[o].findIndex((e=>e.city===a))&&filterCountriesList[o].push({city:a,lati:c,longi:s}):(filterCountriesList[o]=[],filterCountriesList[o].push({city:a,lati:c,longi:s}))}))},getAPI=e=>fetch("https://grupaprogres.traffit.com/public/job_posts/published",{mode:"cors",headers:{"Content-Type":"application/json","X-Request-Page-Size":"100","X-Request-Current-Page":e,"X-Request-Sort":'{"sort_by": "id", "direction": "ASC"}'}}),loopOnAPI=(e,t)=>{e.length>0?(rawAPIArray=rawAPIArray.concat(e),apiPage++,createRecordsObjFromAPI(apiPage,t)):(reworkData(rawAPIArray),recordsNumber=rawAPIArray.length,createAwardedRecordBoxes(allRecordsArray,t),setPages(recordsNumber),createFilterLists(t),createFilteredRecordsArray())};async function createRecordsObjFromAPI(e,t){const i=await getAPI(e),r=await i.json();loopOnAPI(r,t)}const getConfigFilter=()=>fetch("./config/config.json");async function readConfigFilter(){try{const e=await fetch("./config/config.json");filterConfigData=await e.json(),createRecordsObjFromAPI(apiPage,filterConfigData)}catch(e){console.error(e),createRecordsObjFromAPI(apiPage)}}readConfigFilter(),recordsOnPageLoc.addEventListener("change",(e=>{recordsOnPage=parseInt(e.target.value),createRecordBoxes(filtersON?filteredRecordsArray_11:allRecordsArray,0,recordsOnPage),setPages(recordsNumber)})),searchBtn.addEventListener("click",createFilteredRecordsArray),advancedSearchBtn.addEventListener("click",(()=>{advancedContainer.classList.toggle("showed"),advancedSearchBtn.classList.toggle("rotate180")}));
//# sourceMappingURL=all.min.js.map
